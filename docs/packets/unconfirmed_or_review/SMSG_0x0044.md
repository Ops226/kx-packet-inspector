# SMSG 0x0044 — Composite Handle/Object Insert

Status: Confirmed (code-backed)

Dispatch Path:
- Dispatcher: FUN_14025DA50, case 0x44 (index = opcode − 0x2B)
- Schema: &DAT_142513C50 → passed to FUN_140FD4D50 (typed arg builder)
- BuildArgs Semantics: Msg_ParseAndDispatch_BuildArgs (inline exemplar at 0x140FD4417)
- Handler code slice (addresses approximate):
  - 0x14025E2FE..0x14025E33C

Behavior Summary:
- Validates/locates a target container with FUN_140257E70(param_1 + 0x128, (lVar16 + 2)).
- Requires the nested struct at [lVar16 + 0x12] (non‑null guard).
- Reads selector byte at [*(+0x12) + 0x1E] and maps/validates via FUN_140269290.
- Constructs an object/handle with FUN_140258410 using fields at [*(+0x12) + 0x0A..] and u16 pointer at [*(+0x12) + 0x02].
- Inserts into container via FUN_1402581B0; then writes a u32 at +0x20 of a sub‑record from FUN_14024FD60; finalizes with FUN_140268250 using a u8 at +0x1E and pointer at +0x1F.
- Links the result with FUN_14025CCC0.

Key Instructions (evidence):
- FUN_140FD4D50(&DAT_142513C50) → typed tuple
- lVar15 = FUN_140257E70(param_1 + 0x128, (ulonglong*)(lVar16 + 2))
- require *(longlong*)(lVar16 + 0x12) != 0
- u8 selector = *(byte*)(*(longlong*)(lVar16 + 0x12) + 0x1E) → FUN_140269290
- obj = FUN_140258410(param_1, (ulonglong*)(*(longlong*)(lVar16 + 0x12) + 0x0A), …, *(ushort**)(*(longlong*)(lVar16 + 0x12) + 0x02))
- rec = FUN_1402581B0(lVar15 + 0x10, obj, *(u32*)(*(longlong*)(lVar16 + 0x12) + 0x1A))
- out = FUN_14024FD60((u32*)(rec + 0xB0), (int*)(lVar16 + 0x27)); *(u32*)(out + 0x20) = *(u32*)(lVar16 + 0x1A)
- FUN_140268250(rec + 8, (int*)(lVar16 + 0x27), *(void**)(lVar16 + 0x1F), *(u8*)(lVar16 + 0x1E))
- FUN_14025CCC0((longlong)(obj + 1), (lVar15 + 0x10) or 0, rec)

Field Layout (inferred from access pattern):
- Schema root (lVar16) contains:
  - +0x02: u16* (used by FUN_1402584x/410 constructors)
  - +0x0A..: sub‑fields used to create/identify the object
  - +0x12: pointer to nested struct S (required)
    • S +0x02: u16*
    • S +0x0A..: additional constructor material
    • S +0x1A: u32
    • S +0x1E: u8 (selector)
    • S +0x1F: pointer (payload)
- The handler uses these to materialize/attach an entry within a container.

Notes:
- This message defines a composite payload with stable offsets reused across calls (constructor, insert, finalize).
- Use BuildArgs typecodes from 0x140FD4417 to derive exact widths for each field in &DAT_142513C50 (e.g., u8/u16/u32, length‑prefixed arrays) if desired for deeper typing.
